{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/ayendi/projects/freelance/Equipment-ng-frontend/src/components/auth/signupConfirmation.js"],"sourcesContent":["\"use client\";\nimport { useForm } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { verifyOTP } from '@/redux/reducers/authReducers';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nexport default function SignupConfirmation() {\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const location = useLocation();\n    const { loading, error } = useSelector((state) => state.auth);\n    const email = location.state?.email;\n\n    const {\n        register,\n        handleSubmit,\n        formState: { errors }\n    } = useForm();\n\n    const onSubmit = async (data) => {\n        if (!email) {\n            toast.error('Email not found. Please try again');\n            return;\n        }\n\n        try {\n            const verificationData = {\n                email,\n                otp: data.code\n            };\n\n            const resultAction = await dispatch(verifyOTP(verificationData));\n            if (verifyOTP.fulfilled.match(resultAction)) {\n                toast.success(resultAction.payload.message);\n                navigate('/login');\n            }\n        } catch (error) {\n            toast.error(error?.message || 'Verification failed');\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n            <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n                <h1 className=\"text-center text-3xl font-bold tracking-tight text-gray-900\">\n                    Check your email for code\n                </h1>\n                <p className=\"text-center font-medium pt-2 mt-2\">\n                    A code has been sent to your email, input it to complete your registration\n                </p>\n            </div>\n            <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n                <div className=\"bg-white py-8 px-4 sm:rounded-lg sm:px-10\">\n                    <form className=\"space-y-6\" onSubmit={handleSubmit(onSubmit)}>\n                        <div>\n                            <input\n                                {...register('code', {\n                                    required: 'Verification code is required',\n                                    pattern: {\n                                        value: /^[0-9]{6}$/,\n                                        message: 'Please enter a valid 6-digit code'\n                                    }\n                                })}\n                                type=\"text\"\n                                placeholder=\"Enter 6-digit code\"\n                                className=\"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500\"\n                            />\n                            {errors.code && (\n                                <p className=\"mt-1 text-sm text-red-600\">\n                                    {errors.code.message}\n                                </p>\n                            )}\n                        </div>\n\n                        <button\n                            type=\"submit\"\n                            disabled={loading}\n                            className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\n                        >\n                            {loading ? 'Verifying...' : 'Verify Email'}\n                        </button>\n                    </form>\n\n                    <div className=\"mt-6\">\n                        <p className=\"text-center text-sm text-gray-600\">\n                            Didn't receive code?{' '}\n                            <button\n                                type=\"button\"\n                                className=\"font-medium text-indigo-600 hover:text-indigo-500\"\n                                onClick={() => {\n                                    // Add resend OTP logic here\n                                    toast.info('Resend functionality coming soon');\n                                }}\n                            >\n                                Resend\n                            </button>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}"],"names":[],"mappings":";;;;AAGA;AAEA;AAHA;AAEA;AAHA;;;AADA;;;;;;AAOe,SAAS;;IACpB,MAAM,WAAW,CAAA,GAAA,4JAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,WAAW,CAAA,GAAA,mKAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,WAAW,CAAA,GAAA,mKAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,4JAAA,CAAA,cAAW,AAAD;0CAAE,CAAC,QAAU,MAAM,IAAI;;IAC5D,MAAM,QAAQ,SAAS,KAAK,EAAE;IAE9B,MAAM,EACF,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,EACxB,GAAG,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD;IAEV,MAAM,WAAW,OAAO;QACpB,IAAI,CAAC,OAAO;YACR,sJAAA,CAAA,QAAK,CAAC,KAAK,CAAC;YACZ;QACJ;QAEA,IAAI;YACA,MAAM,mBAAmB;gBACrB;gBACA,KAAK,KAAK,IAAI;YAClB;YAEA,MAAM,eAAe,MAAM,SAAS,CAAA,GAAA,2IAAA,CAAA,YAAS,AAAD,EAAE;YAC9C,IAAI,2IAAA,CAAA,YAAS,CAAC,SAAS,CAAC,KAAK,CAAC,eAAe;gBACzC,sJAAA,CAAA,QAAK,CAAC,OAAO,CAAC,aAAa,OAAO,CAAC,OAAO;gBAC1C,SAAS;YACb;QACJ,EAAE,OAAO,OAAO;YACZ,sJAAA,CAAA,QAAK,CAAC,KAAK,CAAC,OAAO,WAAW;QAClC;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAA8D;;;;;;kCAG5E,6LAAC;wBAAE,WAAU;kCAAoC;;;;;;;;;;;;0BAIrD,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAK,WAAU;4BAAY,UAAU,aAAa;;8CAC/C,6LAAC;;sDACG,6LAAC;4CACI,GAAG,SAAS,QAAQ;gDACjB,UAAU;gDACV,SAAS;oDACL,OAAO;oDACP,SAAS;gDACb;4CACJ,EAAE;4CACF,MAAK;4CACL,aAAY;4CACZ,WAAU;;;;;;wCAEb,OAAO,IAAI,kBACR,6LAAC;4CAAE,WAAU;sDACR,OAAO,IAAI,CAAC,OAAO;;;;;;;;;;;;8CAKhC,6LAAC;oCACG,MAAK;oCACL,UAAU;oCACV,WAAU;8CAET,UAAU,iBAAiB;;;;;;;;;;;;sCAIpC,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC;gCAAE,WAAU;;oCAAoC;oCACxB;kDACrB,6LAAC;wCACG,MAAK;wCACL,WAAU;wCACV,SAAS;4CACL,4BAA4B;4CAC5B,sJAAA,CAAA,QAAK,CAAC,IAAI,CAAC;wCACf;kDACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS7B;GAhGwB;;QACH,4JAAA,CAAA,cAAW;QACX,mKAAA,CAAA,cAAW;QACX,mKAAA,CAAA,cAAW;QACD,4JAAA,CAAA,cAAW;QAOlC,iKAAA,CAAA,UAAO;;;KAXS"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}