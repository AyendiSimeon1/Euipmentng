{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/ayendi/projects/freelance/Equipment-ng-frontend/src/components/auth/login.js"],"sourcesContent":["\"use client\";\n\nimport { useForm } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loginUser } from '@/redux/reducers/authReducers';\nimport { useRouter } from 'next/navigation';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { Eye, EyeOff } from 'lucide-react';\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const { isAuthenticated, loading, error } = useSelector((state) => state.auth);\n  const [showPassword, setShowPassword] = useState(false);\n\n  useEffect(() => {\n    console.log('Authentication status:', isAuthenticated);\n  }, [isAuthenticated]);\n\n  const saveUserData = (userData) => {\n    localStorage.setItem('token', userData.token);\n    console.log('The user token:', userData.token);\n  };\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors }\n  } = useForm();\n \n  const onSubmit = async (data) => {\n    try {\n      const resultAction = await dispatch(loginUser(data));\n      if (loginUser.fulfilled.match(resultAction)) {\n        saveUserData(resultAction.payload);\n        toast.success(resultAction.payload.message);\n        router.push('/settings');\n      }\n      if (loginUser.rejected.match(resultAction)) {\n        const errorMessage = resultAction.payload?.message || 'Login failed';\n        toast.error(errorMessage);\n      }\n    } catch (err) {\n      toast.error(error || 'Login failed');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white flex flex-col justify-center py-8 px-4 sm:py-12 sm:px-6 lg:px-8\">\n    <div className=\"w-full sm:mx-auto sm:w-full sm:max-w-md\">\n      <h2 className=\"text-center text-2xl sm:text-3xl font-bold tracking-tight text-gray-900\">\n        Welcome to Equipment.ng\n      </h2>\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={3000}\n        hideProgressBar={false}\n        className=\"!font-sans\"\n      />\n      <p className=\"text-center text-lg sm:text-xl mt-2\">Login</p>\n    </div>\n\n    <div className=\"mt-4 sm:mt-2 w-full sm:mx-auto sm:max-w-md\">\n      <div className=\"bg-white py-6 px-4 sm:py-8 sm:rounded-lg sm:px-10\">\n        <form className=\"space-y-4 sm:space-y-6\" onSubmit={handleSubmit(onSubmit)}>\n          <div>\n            <input\n              {...register('email', {\n                required: 'Email is required',\n                pattern: {\n                  value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                  message: 'Invalid email address'\n                }\n              })}\n              type=\"email\"\n              className=\"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2.5 sm:py-1.5 text-base sm:text-sm shadow-sm focus:border-[#2A2F38] focus:outline-none focus:ring-yellow-500\"\n              placeholder=\"Email\"\n            />\n            {errors.email && (\n              <p className=\"mt-1 text-xs sm:text-sm text-red-600\">{errors.email.message}</p>\n            )}\n          </div>\n\n          <div className=\"relative\">\n            <input\n              {...register('password', {\n                required: 'Password is required',\n                minLength: {\n                  value: 6,\n                  message: 'Password must be at least 6 characters'\n                }\n              })}\n              type={showPassword ? 'text' : 'password'}\n              className=\"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2.5 sm:py-1.5 text-base sm:text-sm shadow-sm focus:border-[#2A2F38] focus:outline-none focus:ring-yellow-500\"\n              placeholder=\"Password\"\n            />\n            <button\n              type=\"button\"\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 p-2 sm:p-1\"\n              onClick={() => setShowPassword(!showPassword)}\n            >\n              {showPassword ? (\n                <EyeOff className=\"h-5 w-5 sm:h-4 sm:w-4 text-gray-500\" />\n              ) : (\n                <Eye className=\"h-5 w-5 sm:h-4 sm:w-4 text-gray-500\" />\n              )}\n            </button>\n          </div>\n          {errors.password && (\n            <p className=\"mt-1 text-xs sm:text-sm text-red-600\">{errors.password.message}</p>\n          )}\n\n          <div className=\"flex flex-col sm:flex-row justify-between space-y-2 sm:space-y-0\">\n            <div className=\"flex items-center\">\n              <input\n                {...register('remember')}\n                type=\"checkbox\"\n                className=\"h-5 w-5 sm:h-4 sm:w-4 rounded border-gray-300 text-yellow-600 focus:ring-yellow-500\"\n              />\n              <label className=\"ml-2 block text-sm text-gray-900\">\n                Remember me\n              </label>\n            </div>\n            <Link\n              href=\"/forgot-password\"\n              className=\"text-sm font-medium text-[#2A2F38] hover:text-gray-700\"\n            >\n              Forgot Password?\n            </Link>\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full flex justify-center py-3.5 sm:py-3 px-5 border border-transparent rounded-full shadow-sm text-base sm:text-sm font-medium text-white bg-[#2A2F38] hover:bg-[#2A2F38] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 disabled:opacity-50\"\n          >\n            {loading ? 'Logging in...' : 'Login'}\n          </button>\n        </form>\n\n        <p className=\"mt-6 text-center text-sm text-gray-600\">\n          Don't have an account?{' '}\n          <Link href=\"/signup\" className=\"font-medium text-[#2A2F38] hover:text-gray-700\">\n            Sign up\n          </Link>\n        </p>\n      </div>\n    </div>\n  </div>\n  );\n};\n\nexport default Login;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}