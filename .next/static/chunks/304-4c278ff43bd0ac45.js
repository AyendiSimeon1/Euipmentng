"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[304],{9703:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var t=a(5155),l=a(3391),n=a(8173),r=a.n(n),d=a(1536),i=a(8422),o=a(2115);let c=()=>{let[e,s]=(0,o.useState)(!1),{isAuthenticated:a}=(0,l.d4)(e=>e.auth),n=a?[{href:"/my-listings",label:"My Listings",className:"bg-[#2A2F38] font-medium px-6 py-3 text-lg rounded-full"},{href:"/",label:"Home"},{href:"/saved-equipments",label:"Saved Equipment"},{href:"/settings",label:(0,t.jsx)(d.NBi,{className:"inline-block h-6 w-6"})}]:[{href:"/login",label:"Login"}];return(0,t.jsx)("header",{className:"bg-gray-800 py-4 px-4 sm:px-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)(r(),{href:"/",children:[(0,t.jsx)("span",{className:"text-yellow-500 text-2xl",children:"⚙️"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"Equipment.ng"})]})}),(0,t.jsx)("nav",{className:"hidden md:flex items-center space-x-6",children:n.map(e=>(0,t.jsx)(r(),{href:e.href,className:"text-white hover:text-gray-300 ".concat(e.className||""),children:e.label},e.href))}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsx)("button",{onClick:()=>{s(!e)},className:"text-white focus:outline-none",children:e?(0,t.jsx)(i.U_s,{className:"h-6 w-6"}):(0,t.jsx)(i.TF4,{className:"h-6 w-6"})})})]}),e&&(0,t.jsx)("div",{className:"md:hidden mt-4 bg-gray-700 rounded-lg p-4 space-y-4 transition-all duration-200 ease-in-out",children:n.map(e=>(0,t.jsx)(r(),{href:e.href,className:"block text-white hover:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors ".concat(e.className||""),children:e.label},e.href))})]})})}},3230:(e,s,a)=>{a.d(s,{default:()=>u});var t=a(5155),l=a(2115),n=a(3391),r=a(2367),d=a(8173),i=a.n(d),o=a(2734),c=a(1594),m=a(4834);function u(){let e=(0,n.wA)(),{equipments:s,loading:a,error:d}=(0,n.d4)(e=>e.equipments);return((0,l.useEffect)(()=>{e((0,r.OX)())},[e]),a)?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[200px] space-y-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#2A2F38]"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Loading equipment..."})]}):d?(0,t.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-4",children:(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md w-full",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(c.A,{className:"h-6 w-6 text-red-500"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-red-800",children:"Error Loading Equipment"})]}),(0,t.jsx)("p",{className:"mt-2 text-sm text-red-700",children:(null==d?void 0:d.message)||"Something went wrong. Please try again."}),(0,t.jsxs)("button",{onClick:()=>e((0,r.OX)()),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}):(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-bold text-xl ml-10 px-2 py-3",children:"Listed Equipments "}),(0,t.jsx)("div",{className:"grid grid-cols-1 mx-3 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 px-4 sm:px-6 lg:px-8",children:s.map((e,s)=>(0,t.jsx)("div",{className:"relative rounded-lg overflow-hidden shadow-lg bg-white",children:(0,t.jsxs)(i(),{href:"equipment-detail/".concat(e._id),children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{className:"w-full h-48 object-cover rounded-t-lg",src:e.coverimage||"/future.jpeg",alt:e.name,onError:e=>{e.target.onerror=null,e.target.src="/future.jpeg"}}),(0,t.jsx)("button",{className:"absolute top-3 right-3 p-2 rounded-full bg-white/80 hover:bg-white transition-colors",onClick:e=>{e.preventDefault()},children:(0,t.jsx)(o.in_,{className:"h-5 w-5 text-gray-700"})})]}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("div",{className:"text-sm sm:text-sm font-bold text-gray-800",children:e.amount}),(0,t.jsx)("div",{className:"",children:(0,t.jsx)("p",{children:"per/day"})})]}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.duration}),(0,t.jsx)("div",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:e.description}),(0,t.jsx)("div",{className:"text-sm text-gray-600 font-semibold",children:e.workingcondition}),(0,t.jsx)("div",{className:"text-sm text-gray-600 font-semibold",children:(0,t.jsx)("p",{children:"Avalaibilty: Immediately"})})]})})]})},s))})]})}},2367:(e,s,a)=>{a.d(s,{Ay:()=>u,M5:()=>d,OX:()=>r,zp:()=>i});var t=a(1983),l=a(2651),n=a(6828);console.log("This is the base url:",n.T);let r=(0,t.zD)("equipments/fetchEquipments",async(e,s)=>{let{rejectWithValue:a}=s;try{return(await l.A.get("https://".concat(n.T,"/equipment/allequipment"))).data}catch(e){return a(e.response.data)}}),d=(0,t.zD)("equipments/addEquipment",async(e,s)=>{let{formData:a,token:t}=e,{rejectWithValue:r}=s;try{for(let e of(console.log("FormData contents in reducer:"),a.entries()))console.log(e[0],e[1]);return(await l.A.post("https://".concat(n.T,"/equipment/addequipment"),a,{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(e){var d;return console.error("Add equipment error:",e),r((null===(d=e.response)||void 0===d?void 0:d.data)||{message:"Failed to add equipment"})}}),i=(0,t.zD)("equipments/fetchEquipmentById",async(e,s)=>{let{rejectWithValue:a}=s;console.log("The fetch equipment id:",e);try{let s=await l.A.get("https://".concat(n.T,"/equipment/particularequipment/").concat(e));return console.log("The response",s.data),s.data}catch(e){return console.log(e),a(e.response.data)}}),o=(0,t.zD)("equipments/deleteEquipment",async(e,s)=>{let{rejectWithValue:a}=s;try{return{...(await l.A.delete("https://".concat(n.T,"/equipment/deleteequipment/").concat(e))).data,id:e}}catch(e){return a(e.response.data)}}),c=(0,t.Z0)({name:"equipments",initialState:{equipments:[],selectedEquipment:null,loading:!1,error:null,message:null},reducers:{clearEquipmentState:e=>{e.error=null,e.message=null}},extraReducers:e=>{e.addCase(r.pending,e=>{e.loading=!0,e.error=null}).addCase(r.fulfilled,(e,s)=>{e.loading=!1,e.equipments=s.payload}).addCase(r.rejected,(e,s)=>{var a;e.loading=!1,e.error=(null===(a=s.payload)||void 0===a?void 0:a.message)||"Failed to fetch equipments"}).addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,s)=>{e.loading=!1,e.equipments.push(s.payload.newEquipment),e.message=s.payload.message}).addCase(d.rejected,(e,s)=>{var a;e.loading=!1,e.error=(null===(a=s.payload)||void 0===a?void 0:a.message)||"Failed to add equipment"}).addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,s)=>{e.loading=!1,e.selectedEquipment=s.payload}).addCase(i.rejected,(e,s)=>{var a;e.loading=!1,e.error=(null===(a=s.payload)||void 0===a?void 0:a.message)||"Failed to fetch equipment"}).addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,s)=>{e.loading=!1,e.equipments=e.equipments.filter(e=>e._id!==s.payload.id),e.message=s.payload.message}).addCase(o.rejected,(e,s)=>{var a;e.loading=!1,e.error=(null===(a=s.payload)||void 0===a?void 0:a.message)||"Failed to delete equipment"})}}),{clearEquipmentState:m}=c.actions,u=c.reducer},6828:(e,s,a)=>{a.d(s,{T:()=>t});let t="equipmentapi.onrender.com";console.log("The base url:",t)}}]);