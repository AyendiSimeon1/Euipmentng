(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[74],{8254:(e,a,s)=>{Promise.resolve().then(s.t.bind(s,8173,23)),Promise.resolve().then(s.bind(s,9703)),Promise.resolve().then(s.bind(s,6208))},7401:(e,a,s)=>{"use strict";s.d(a,{A:()=>o});var t=s(2115);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return a.filter((e,a,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===a).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)((e,a)=>{let{color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:m,...u}=e;return(0,t.createElement)("svg",{ref:a,...n,width:r,height:r,stroke:s,strokeWidth:o?24*Number(i)/Number(r):i,className:l("lucide",c),...u},[...m.map(e=>{let[a,s]=e;return(0,t.createElement)(a,s)}),...Array.isArray(d)?d:[d]])}),o=(e,a)=>{let s=(0,t.forwardRef)((s,n)=>{let{className:o,...c}=s;return(0,t.createElement)(i,{ref:n,iconNode:a,className:l("lucide-".concat(r(e)),o),...c})});return s.displayName="".concat(e),s}},9703:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var t=s(5155),r=s(3391),l=s(8173),n=s.n(l),i=s(1536),o=s(8422),c=s(2115);let d=()=>{let[e,a]=(0,c.useState)(!1),{isAuthenticated:s}=(0,r.d4)(e=>e.auth),l=s?[{href:"/my-listings",label:"My Listings",className:"bg-[#2A2F38] font-medium px-6 py-3 text-lg rounded-full"},{href:"/",label:"Home"},{href:"/saved-equipments",label:"Saved Equipment"},{href:"/settings",label:(0,t.jsx)(i.NBi,{className:"inline-block h-6 w-6"})}]:[{href:"/login",label:"Login"}];return(0,t.jsx)("header",{className:"bg-gray-800 py-4 px-4 sm:px-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)(n(),{href:"/",children:[(0,t.jsx)("span",{className:"text-yellow-500 text-2xl",children:"⚙️"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"Equipment.ng"})]})}),(0,t.jsx)("nav",{className:"hidden md:flex items-center space-x-6",children:l.map(e=>(0,t.jsx)(n(),{href:e.href,className:"text-white hover:text-gray-300 ".concat(e.className||""),children:e.label},e.href))}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsx)("button",{onClick:()=>{a(!e)},className:"text-white focus:outline-none",children:e?(0,t.jsx)(o.U_s,{className:"h-6 w-6"}):(0,t.jsx)(o.TF4,{className:"h-6 w-6"})})})]}),e&&(0,t.jsx)("div",{className:"md:hidden mt-4 bg-gray-700 rounded-lg p-4 space-y-4 transition-all duration-200 ease-in-out",children:l.map(e=>(0,t.jsx)(n(),{href:e.href,className:"block text-white hover:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors ".concat(e.className||""),children:e.label},e.href))})]})})}},6208:(e,a,s)=>{"use strict";s.d(a,{default:()=>v});var t=s(5155),r=s(2115),l=s(9606),n=s(6046),i=s(3391),o=s(2110),c=s(7401);let d=(0,c.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),m=(0,c.A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),u=(0,c.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function p(e){let{label:a,name:s,register:r,error:l,type:n="text"}=e;return(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,t.jsx)("input",{...r(s),type:n,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),l&&(0,t.jsx)("span",{className:"text-red-500 text-sm",children:l.message})]})}function h(e){let{label:a,name:s,register:r,options:l,error:n}=e;r(s),l.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value)),n&&n.message}function x(e){let{label:a,name:s,register:t}=e;({...t(s)})}let g=e=>{let{images:a,title:s,location:l,cost:n,description:i,make:o,brand:c,yearOfManufacture:d,accessories:m=[],certificates:u=[],isUsed:p=!1}=e,[h,x]=(0,r.useState)(0);return(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto p-4 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"w-full aspect-video bg-gray-100 rounded-lg overflow-hidden",children:(0,t.jsx)("img",{src:a[h],alt:"".concat(s," - View ").concat(h+1),className:"w-full h-full object-cover"})}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-4",children:a.map((e,a)=>(0,t.jsx)("button",{onClick:()=>x(a),className:"aspect-video rounded-lg overflow-hidden ".concat(h===a?"ring-2 ring-blue-500":""),children:(0,t.jsx)("img",{src:e,alt:"".concat(s," - Thumbnail ").concat(a+1),className:"w-full h-full object-cover"})},a))})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:s}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:l})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Make"}),(0,t.jsx)("p",{className:"font-medium",children:o})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Brand"}),(0,t.jsx)("p",{className:"font-medium",children:c})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Color"}),(0,t.jsx)("p",{className:"font-medium",children:o})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Year of Manufacture"}),(0,t.jsx)("p",{className:"font-medium",children:d})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Cost"}),(0,t.jsxs)("div",{className:"flex items-baseline space-x-2",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n.toLocaleString()}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"negotiable"})]})]}),(0,t.jsxs)("div",{className:"mt-4 sm:mt-0 space-y-2",children:[(0,t.jsx)("span",{className:"text-sm",children:"Pay On Delivery"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-sm",children:"Payment After Usage"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-sm",children:"Purchase Order/After few days"})]})]})]})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h2",{className:"font-medium",children:"Description"}),(0,t.jsx)("p",{className:"text-gray-700 text-sm",children:i})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h2",{className:"font-medium",children:"Accessories"}),(0,t.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-2",children:m.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:e})]},a))})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:!p,className:"h-4 w-4 text-blue-600",readOnly:!0}),(0,t.jsx)("span",{className:"text-sm",children:"Brand New"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h2",{className:"font-medium",children:"Certificates"}),(0,t.jsx)("div",{className:"space-y-1",children:u.map((e,a)=>(0,t.jsx)("p",{className:"text-sm text-gray-700",children:e},a))})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:(0,t.jsx)("button",{className:"w-full py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Download a pdf Copy"})})]})};var b=s(2367);function v(){var e;let[a,s]=(0,r.useState)(1),[c,v]=(0,r.useState)(null),[f,j]=(0,r.useState)([]),[y,N]=(0,r.useState)(null),[w,q]=(0,r.useState)([]),C=(0,i.wA)(),[k,P]=(0,r.useState)(null),E=(0,n.useRouter)(),{loading:O}=(0,i.d4)(e=>e.equipment||{}),{user:A}=(0,i.d4)(e=>e.auth),S=null==A?void 0:A._id;console.log("the user i need",null==A?void 0:A._id);let{register:D,handleSubmit:M,formState:{errors:R},watch:L,getValues:z}=(0,l.mN)({defaultValues:{location:"",category:"",subcategory:"",name:"",description:"",brand:"",model:"",workingcondition:"new",pricingschedule:"",amount:"",negotiable:!1,ownerName:"",ownerCity:"",ownerPhone:"",ownerEmail:""}});(0,r.useEffect)(()=>{let e=localStorage.getItem("token");if(!e){E.push("/login"),o.oR.error("Please log in to add equipment");return}P(e)},[E]);let T=(e,a)=>{let s=Array.from(e.target.files),t=["image/jpeg","image/png","image/jpg"],r=["video/mp4","video/mpeg","video/quicktime"];s.forEach(e=>{if("cover"===a||"thumbnails"===a){if(!t.includes(e.type)){o.oR.error("Please upload only image files (JPEG, PNG)");return}if(e.size>5242880){o.oR.error("Image size should be less than 5MB");return}"cover"===a?(v(e),q(a=>({...a,cover:URL.createObjectURL(e)}))):(j(a=>[...a,e]),q(a=>({...a,thumbnails:[...a.thumbnails||[],URL.createObjectURL(e)]})))}else if("video"===a){if(!r.includes(e.type)){o.oR.error("Please upload only video files (MP4, MPEG)");return}if(e.size>0x3200000){o.oR.error("Video size should be less than 50MB");return}N(e),q(a=>({...a,video:URL.createObjectURL(e)}))}})},F=(e,a)=>{"cover"===e?(v(null),q(e=>({...e,cover:null}))):"thumbnails"===e?(j(e=>e.filter((e,s)=>s!==a)),q(e=>({...e,thumbnails:e.thumbnails.filter((e,s)=>s!==a)}))):"video"===e&&(N(null),q(e=>({...e,video:null})))},B=async e=>{try{console.log("Raw form data:",e);let s=new FormData;for(let a of(console.log("I like the id:",S),s.append("userId",S),s.append("location",e.location),s.append("category","june"),s.append("subcategory","apremedi"),s.append("name",e.name),s.append("description",e.description),s.append("brand",e.brand),s.append("model",e.model),s.append("workingcondition","new"===e.workingcondition),s.append("pricingschedule","weely"),s.append("amount",Number(e.amount)),s.append("negotiable",!0===e.negotiable),s.append("owner[name]",e.ownerName),s.append("owner[city]",e.ownerCity),s.append("owner[phonenumber]",e.ownerPhone),s.append("owner[email]",e.ownerEmail),c&&s.append("coverimage",c),f.length>0&&f.forEach(e=>{s.append("thumbnails",e)}),y&&s.append("video",y),console.log("FormData contents:"),s.entries()))console.log(a[0],a[1]);let t=await C((0,b.M5)({formData:s,token:k}));if(t.type===b.M5.fulfilled.type)o.oR.success(t.payload.message),E.push("/");else{var a;o.oR.error((null===(a=t.payload)||void 0===a?void 0:a.message)||"Failed to add equipment")}}catch(e){console.error("Equipment creation error:",e),o.oR.error("Failed to create equipment listing")}};return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-8 text-center",children:"List an Equipment"}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("div",{className:"flex justify-between",children:["Basic Details","Equipment & Media","Pricing & Owner","Review"].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center ".concat(s<3?"flex-1":""),children:[(0,t.jsx)("div",{className:"\n                w-8 h-8 rounded-full flex items-center justify-center\n                ".concat(a>s+1?"bg-green-500":a===s+1?"bg-blue-500":"bg-gray-200","\n                text-white font-medium\n              "),children:s+1}),s<3&&(0,t.jsx)("div",{className:"\n                  flex-1 h-1 mx-2\n                  ".concat(a>s+1?"bg-green-500":"bg-gray-200","\n                ")})]},e))})}),(0,t.jsxs)("form",{onSubmit:M(B),encType:"multipart/form-data",className:"space-y-6",children:[1===a&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Basic Details"}),(0,t.jsx)(p,{label:"Location",name:"location",register:D,error:R.location,placeholder:"e.g., Lagos, Nigeria",required:!0}),(0,t.jsx)(h,{label:"Category",name:"category",register:D,options:[{value:"Construction",label:"Construction"},{value:"Mining",label:"Mining"},{value:"Agriculture",label:"Agriculture"}],error:R.category,required:!0}),(0,t.jsx)(h,{label:"Sub Category",name:"subcategory",register:D,options:[{value:"Excavators",label:"Excavators"},{value:"Bulldozers",label:"Bulldozers"},{value:"Cranes",label:"Cranes"}],error:R.subcategory,required:!0}),(0,t.jsx)(p,{label:"Equipment Name",name:"name",register:D,error:R.name,placeholder:"e.g., CAT 320D Excavator",required:!0}),(0,t.jsx)(p,{label:"Description",name:"description",register:D,error:R.description,placeholder:"Detailed description of the equipment",required:!0})]}),2===a&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Equipment Details & Media"}),(0,t.jsx)(p,{label:"Brand",name:"brand",register:D,error:R.brand,placeholder:"e.g., Caterpillar",required:!0}),(0,t.jsx)(p,{label:"Model",name:"model",register:D,error:R.model,placeholder:"e.g., 320D",required:!0}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Working Condition"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("label",{className:"inline-flex items-center",children:[(0,t.jsx)("input",{type:"radio",...D("workingcondition"),value:"new",className:"form-radio"}),(0,t.jsx)("span",{className:"ml-2",children:"New"})]}),(0,t.jsxs)("label",{className:"inline-flex items-center",children:[(0,t.jsx)("input",{type:"radio",...D("workingcondition"),value:"used",className:"form-radio"}),(0,t.jsx)("span",{className:"ml-2",children:"Used"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Cover Image"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("label",{className:"cursor-pointer bg-yellow-50 hover:bg-yellow-100 p-4 rounded-lg",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>T(e,"cover"),className:"hidden"}),(0,t.jsx)(d,{className:"h-6 w-6 text-gray-400"})]}),w.cover&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:w.cover,alt:"Cover preview",className:"h-20 w-20 object-cover rounded-lg"}),(0,t.jsx)("button",{onClick:()=>F("cover"),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:(0,t.jsx)(m,{className:"h-4 w-4"})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Additional Images"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)("label",{className:"cursor-pointer bg-yellow-50 hover:bg-yellow-100 p-4 rounded-lg",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>T(e,"thumbnails"),className:"hidden"}),(0,t.jsx)(d,{className:"h-6 w-6 text-gray-400"})]}),null===(e=w.thumbnails)||void 0===e?void 0:e.map((e,a)=>(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:e,alt:"Thumbnail ".concat(a+1),className:"h-20 w-20 object-cover rounded-lg"}),(0,t.jsx)("button",{onClick:()=>F("thumbnails",a),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:(0,t.jsx)(m,{className:"h-4 w-4"})})]},a))]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Video"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("label",{className:"cursor-pointer bg-yellow-50 hover:bg-yellow-100 p-4 rounded-lg",children:[(0,t.jsx)("input",{type:"file",accept:"video/*",onChange:e=>T(e,"video"),className:"hidden"}),(0,t.jsx)(d,{className:"h-6 w-6 text-gray-400"})]}),w.video&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("video",{src:w.video,className:"h-20 w-20 object-cover rounded-lg",controls:!0}),(0,t.jsx)("button",{onClick:()=>F("video"),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:(0,t.jsx)(m,{className:"h-4 w-4"})})]})]})]})]})]}),3===a&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Pricing & Owner Details"}),(0,t.jsx)(h,{label:"Pricing Schedule",name:"pricingschedule",register:D,options:[{value:"Per Hour",label:"Per Hour"},{value:"Per Day",label:"Per Day"},{value:"Per Week",label:"Per Week"},{value:"Per Month",label:"Per Month"}],error:R.pricingschedule,required:!0}),(0,t.jsx)(p,{label:"Amount",name:"amount",type:"number",register:D,error:R.amount,required:!0}),(0,t.jsx)(x,{label:"Price is Negotiable",name:"negotiable",register:D}),(0,t.jsxs)("div",{className:"space-y-4 mt-8",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Owner Information"}),(0,t.jsx)(p,{label:"Full Name",name:"ownerName",register:D,error:R.ownerName,required:!0}),(0,t.jsx)(p,{label:"City",name:"ownerCity",register:D,error:R.ownerCity,required:!0}),(0,t.jsx)(p,{label:"Phone Number",name:"ownerPhone",register:D,error:R.ownerPhone,placeholder:"e.g., +2348012345678",required:!0}),(0,t.jsx)(p,{label:"Email",name:"ownerEmail",type:"email",register:D,error:R.ownerEmail,required:!0})]})]}),4===a&&(()=>{let e=z(),a={images:w.thumbnails||[],coverImage:w.cover,video:w.video,title:e.name,location:e.location,cost:e.amount,description:e.description,brand:e.brand,model:e.model,workingCondition:"new"===e.workingcondition?"New":"Used",pricingSchedule:e.pricingschedule,negotiable:e.negotiable,owner:{name:e.ownerName,city:e.ownerCity,phone:e.ownerPhone,email:e.ownerEmail}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Review Your Listing"}),(0,t.jsx)(g,{...a})]})})(),(0,t.jsxs)("div",{className:"mt-8 flex justify-between",children:[a>1&&(0,t.jsx)("button",{type:"button",onClick:()=>s(a-1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Previous"}),a<4?(0,t.jsx)("button",{type:"button",onClick:()=>s(a+1),className:"ml-auto px-4 py-2 text-sm font-medium text-white bg-gray-500 rounded-md hover:bg-blue-600",children:"Next"}):(0,t.jsx)("button",{type:"submit",disabled:O,className:"ml-auto px-4 py-2 text-sm font-medium text-white rounded-md flex items-center\n                ".concat(O?"bg-gray-400 cursor-not-allowed":"bg-gray-500 hover:bg-gray-600"),children:O?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Listing"})]})]}),(0,t.jsx)(o.N9,{position:"bottom-right"})]})}s(5716)},2367:(e,a,s)=>{"use strict";s.d(a,{Ay:()=>u,M5:()=>i,OX:()=>n,zp:()=>o});var t=s(1983),r=s(2651),l=s(6828);console.log("This is the base url:",l.T);let n=(0,t.zD)("equipments/fetchEquipments",async(e,a)=>{let{rejectWithValue:s}=a;try{return(await r.A.get("https://".concat(l.T,"/equipment/allequipment"))).data}catch(e){return s(e.response.data)}}),i=(0,t.zD)("equipments/addEquipment",async(e,a)=>{let{formData:s,token:t}=e,{rejectWithValue:n}=a;try{for(let e of(console.log("FormData contents in reducer:"),s.entries()))console.log(e[0],e[1]);return(await r.A.post("http://".concat(l.T,"/equipment/addequipment"),s,{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(e){var i;return console.error("Add equipment error:",e),n((null===(i=e.response)||void 0===i?void 0:i.data)||{message:"Failed to add equipment"})}}),o=(0,t.zD)("equipments/fetchEquipmentById",async(e,a)=>{let{rejectWithValue:s}=a;console.log("The fetch equipment id:",e);try{let a=await r.A.get("https://".concat(l.T,"/equipment/particularequipment/").concat(e));return console.log("The response",a.data),a.data}catch(e){return console.log(e),s(e.response.data)}}),c=(0,t.zD)("equipments/deleteEquipment",async(e,a)=>{let{rejectWithValue:s}=a;try{return{...(await r.A.delete("https://".concat(l.T,"/equipment/deleteequipment/").concat(e))).data,id:e}}catch(e){return s(e.response.data)}}),d=(0,t.Z0)({name:"equipments",initialState:{equipments:[],selectedEquipment:null,loading:!1,error:null,message:null},reducers:{clearEquipmentState:e=>{e.error=null,e.message=null}},extraReducers:e=>{e.addCase(n.pending,e=>{e.loading=!0,e.error=null}).addCase(n.fulfilled,(e,a)=>{e.loading=!1,e.equipments=a.payload}).addCase(n.rejected,(e,a)=>{var s;e.loading=!1,e.error=(null===(s=a.payload)||void 0===s?void 0:s.message)||"Failed to fetch equipments"}).addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,a)=>{e.loading=!1,e.equipments.push(a.payload.newEquipment),e.message=a.payload.message}).addCase(i.rejected,(e,a)=>{var s;e.loading=!1,e.error=(null===(s=a.payload)||void 0===s?void 0:s.message)||"Failed to add equipment"}).addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,a)=>{e.loading=!1,e.selectedEquipment=a.payload}).addCase(o.rejected,(e,a)=>{var s;e.loading=!1,e.error=(null===(s=a.payload)||void 0===s?void 0:s.message)||"Failed to fetch equipment"}).addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,a)=>{e.loading=!1,e.equipments=e.equipments.filter(e=>e._id!==a.payload.id),e.message=a.payload.message}).addCase(c.rejected,(e,a)=>{var s;e.loading=!1,e.error=(null===(s=a.payload)||void 0===s?void 0:s.message)||"Failed to delete equipment"})}}),{clearEquipmentState:m}=d.actions,u=d.reducer},6828:(e,a,s)=>{"use strict";s.d(a,{T:()=>t});let t="equipmentapi.onrender.com";console.log("The base url:",t)},5716:()=>{},3435:(e,a,s)=>{"use strict";s.d(a,{k5:()=>d});var t=s(2115),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=t.createContext&&t.createContext(r),n=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e}).apply(this,arguments)}function o(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,t)}return s}function c(e){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?o(Object(s),!0).forEach(function(a){var t,r;t=a,r=s[a],(t=function(e){var a=function(e,a){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var t=s.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:a+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function d(e){return a=>t.createElement(m,i({attr:c({},e.attr)},a),function e(a){return a&&a.map((a,s)=>t.createElement(a.tag,c({key:s},a.attr),e(a.child)))}(e.child))}function m(e){var a=a=>{var s,{attr:r,size:l,title:o}=e,d=function(e,a){if(null==e)return{};var s,t,r=function(e,a){if(null==e)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(a.indexOf(t)>=0)continue;s[t]=e[t]}return s}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)s=l[t],!(a.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,n),m=l||a.size||"1em";return a.className&&(s=a.className),e.className&&(s=(s?s+" ":"")+e.className),t.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,d,{className:s,style:c(c({color:e.color||a.color},a.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==l?t.createElement(l.Consumer,null,e=>a(e)):a(r)}}},e=>{var a=a=>e(e.s=a);e.O(0,[797,711,777,391,173,25,606,829,441,517,358],()=>a(8254)),_N_E=e.O()}]);