(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{4242:(e,s,a)=>{Promise.resolve().then(a.bind(a,8644))},8644:(e,s,a)=>{"use strict";a.d(s,{default:()=>h});var r=a(5155),t=a(9606),l=a(3391),d=a(2185),o=a(6046),n=a(2115),i=a(1665),c=a(738),m=a(2598),u=a(3415);u.z.object({surname:u.z.string().min(2,"Surname must be at least 2 characters"),name:u.z.string().min(2,"Name must have atleast 2 characters"),password:u.z.string().min(8,"Password must be atleast 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:u.z.string(),terms:u.z.boolean().refine(e=>!0===e,"You must accept the terms")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});var p=a(9506),g=a(1536);let h=()=>{let e=(0,l.wA)(),s=(0,o.useRouter)(),{loading:a,error:u}=(0,l.d4)(e=>e.auth),[h,x]=(0,n.useState)(!1),[f,y]=(0,n.useState)(!1),{register:w,handleSubmit:b,formState:{errors:j},watch:v}=(0,t.mN)(),N=v("password"),A=async a=>{var r,t,l;let{...o}=a;try{let t=await e((0,d.Wd)(o));if(d.Wd.rejected.match(t)){let e=(null===(r=t.payload)||void 0===r?void 0:r.message)||"Signup failed";i.oR.error(e);return}d.Wd.fulfilled.match(t)&&(i.oR.success(t.payload.message),s.push("/verify-otp",{state:{email:a.email}}))}catch(s){console.error("Signup error:",s);let e=(null===(l=s.response)||void 0===l?void 0:null===(t=l.data)||void 0===t?void 0:t.message)||s.message||"An error occurred during signup";i.oR.error(e)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,r.jsx)("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:"Welcome to Equipment.ng"}),(0,r.jsx)("p",{className:"text-center text-xl mt-2",children:"Sign up"})]}),(0,r.jsx)("div",{className:"mt-2 sm:mx-auto sm:w-full sm:max-w-md",children:(0,r.jsx)("div",{className:"bg-white py-8 sm:rounded-lg sm:px-10",children:(0,r.jsxs)("form",{className:"space-y-6",onSubmit:b(A),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{...w("surname",{required:"Surname is required"}),type:"text",className:"mt-1 block w-full border rounded-md border-gray-300 px-3 py-1 shadow-sm focus:border-[#2A2F38] focus:outline-none focus:ring-yellow-500",placeholder:"Surname"}),j.surname&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j.surname.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{...w("firstname",{required:"First name is required"}),type:"text",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-1 shadow-sm focus:border-[#2A2F38] focus:outline-none focus:ring-yellow-500",placeholder:"First Name"}),j.firstname&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j.firstname.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{...w("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-1 shadow-sm focus:border-[#2A2F38] focus:outline-none focus:ring-yellow-500",placeholder:"Email"}),j.email&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{...w("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:h?"text":"password",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-1 shadow-sm focus:border-[#2A2F38] focus:outline-none focus:ring-yellow-500",placeholder:"Password"}),(0,r.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>x(!h),children:h?(0,r.jsx)(c.A,{className:"h-4 w-4 text-gray-500"}):(0,r.jsx)(m.A,{className:"h-4 w-4 text-gray-500"})})]}),j.password&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j.password.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{...w("confirmPassword",{required:"Please confirm your password",validate:e=>e===N||"Passwords do not match"}),type:f?"text":"password",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-1 shadow-sm focus:border-[#2A2F38] focus:outline-none focus:ring-yellow-500",placeholder:"Confirm Password"}),(0,r.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>y(!f),children:f?(0,r.jsx)(c.A,{className:"h-4 w-4 text-gray-500"}):(0,r.jsx)(m.A,{className:"h-4 w-4 text-gray-500"})})]}),j.confirmPassword&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j.confirmPassword.message})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{...w("terms",{required:"You must accept the terms"}),type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"}),(0,r.jsxs)("label",{className:"ml-2 block text-sm text-gray-900",children:["Yes, I understand and agree to Equipment.ng ",(0,r.jsx)("span",{className:"font-bold",children:"Terms of Service"}),", including the",(0,r.jsx)("span",{className:"font-bold",children:" User Agreement and Privacy Policy"})]})]}),j.terms&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j.terms.message}),(0,r.jsx)("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-3 px-5 border border-transparent rounded-full shadow-sm text-sm font-medium text-white bg-[#2A2F38] hover:bg-[#2A2F38] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 disabled:opacity-50",children:a?"Signing up...":"Sign Up to Equipment.ng"}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),(0,r.jsxs)("div",{className:"mt-5 grid grid-cols-2 gap-3",children:[(0,r.jsxs)("button",{type:"button",className:"w-full inline-flex items-center justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,r.jsx)(g.eMv,{className:"mr-2"}),(0,r.jsx)("span",{children:"Sign up with Apple"})]}),(0,r.jsxs)("button",{type:"button",className:"w-full inline-flex items-center justify-center py-2 px-3 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,r.jsx)(p.F4b,{className:"mr-2"}),(0,r.jsx)("span",{children:"Sign up with Google"})]})]})]})]})})})]})}},2185:(e,s,a)=>{"use strict";a.d(s,{Ay:()=>g,BD:()=>i,Lx:()=>n,xw:()=>c,Wd:()=>d,vJ:()=>o});var r=a(1983),t=a(2651);let l="equipmentapi.onrender.com";console.log("The base url:",l);let d=(0,r.zD)("auth/signUpUser",async(e,s)=>{let{rejectWithValue:a}=s;try{return(await t.A.post("https://".concat(l,"/auth/signup"),e)).data}catch(e){return a(e.response.data)}}),o=(0,r.zD)("auth/verifyOTP",async(e,s)=>{let{rejectWithValue:a}=s;try{console.log("vv",e);let s=await t.A.post("https://".concat(l,"/auth/verify"),{email:e.email,otp:e.otp.toString()});return console.log("API Response:",s.data),s.data}catch(e){var r;return a((null===(r=e.response)||void 0===r?void 0:r.data)||{message:"Verification failed"})}}),n=(0,r.zD)("auth/loginUser",async(e,s)=>{let{rejectWithValue:a}=s;try{return(await t.A.post("https://".concat(l,"/auth/login"),e)).data}catch(e){return a(e.response.data)}}),i=(0,r.zD)("auth/forgotPassword",async(e,s)=>{let{rejectWithValue:a}=s;try{return(await t.A.post("https://".concat(l,"/auth/forgot-password"),{email:e})).data}catch(e){return a(e.response.data)}}),c=(0,r.zD)("auth/resetPassword",async(e,s)=>{let{rejectWithValue:a}=s;try{return(await t.A.post("https://".concat(l,"/auth/reset-password"),e)).data}catch(e){return a(e.response.data)}}),m=(0,r.Z0)({name:"auth",initialState:{user:null,loading:!1,error:null,isVerified:!1,token:null,message:null},reducers:{clearAuthState:e=>{e.error=null,e.message=null},logout:e=>{e.user=null,e.token=null,e.isVerified=!1}},extraReducers:e=>{e.addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,s)=>{e.loading=!1,e.user=s.payload.user,e.token=s.payload.token,e.message=s.payload.message}).addCase(d.rejected,(e,s)=>{e.loading=!1,e.error=s.payload}).addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,s)=>{e.loading=!1,e.user=s.payload.user,e.isVerified=s.payload.user.isVerified,e.message=s.payload.message}).addCase(o.rejected,(e,s)=>{e.loading=!1,e.error=s.payload}).addCase(n.pending,e=>{e.loading=!0,e.error=null}).addCase(n.fulfilled,(e,s)=>{e.loading=!1,e.user=s.payload.user,e.token=s.payload.token,e.isVerified=s.payload.user.isVerified,e.message=s.payload.message}).addCase(n.rejected,(e,s)=>{e.loading=!1,e.error=s.payload}).addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,s)=>{e.loading=!1,e.message=s.payload.message}).addCase(i.rejected,(e,s)=>{e.loading=!1,e.error=s.payload}).addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,s)=>{e.loading=!1,e.user=s.payload.user,e.message=s.payload.message}).addCase(c.rejected,(e,s)=>{e.loading=!1,e.error=s.payload})}}),{clearAuthState:u,logout:p}=m.actions,g=m.reducer}},e=>{var s=s=>e(e.s=s);e.O(0,[753,711,606,951,587,399,441,517,358],()=>s(4242)),_N_E=e.O()}]);