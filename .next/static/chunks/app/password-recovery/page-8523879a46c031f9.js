(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[122],{8148:(e,a,s)=>{Promise.resolve().then(s.bind(s,2170))},7401:(e,a,s)=>{"use strict";s.d(a,{A:()=>n});var r=s(2115);let t=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d=function(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return a.filter((e,a,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===a).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,r.forwardRef)((e,a)=>{let{color:s="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:i="",children:c,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:a,...l,width:t,height:t,stroke:s,strokeWidth:n?24*Number(o)/Number(t):o,className:d("lucide",i),...m},[...u.map(e=>{let[a,s]=e;return(0,r.createElement)(a,s)}),...Array.isArray(c)?c:[c]])}),n=(e,a)=>{let s=(0,r.forwardRef)((s,l)=>{let{className:n,...i}=s;return(0,r.createElement)(o,{ref:l,iconNode:a,className:d("lucide-".concat(t(e)),n),...i})});return s.displayName="".concat(e),s}},738:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(7401).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},2598:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(7401).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2170:(e,a,s)=>{"use strict";s.d(a,{default:()=>m});var r=s(5155),t=s(2115),d=s(9606),l=s(3391),o=s(4284),n=s(6046),i=s(2110),c=s(738),u=s(2598);function m(){let e=(0,l.wA)(),a=(0,n.useRouter)(),{loading:s,error:m}=(0,l.d4)(e=>e.auth),[p,g]=(0,t.useState)(!1),{register:h,handleSubmit:y,formState:{errors:f}}=(0,d.mN)(),w=async s=>{try{let t={email:s.email,otp:s.code,newPassword:s.password},d=await e((0,o.xw)(t));if(o.xw.fulfilled.match(d)&&(i.oR.success(d.payload.message),a.push("/")),o.xw.rejected.match(d)){var r;let e=(null===(r=d.payload)||void 0===r?void 0:r.message)||"Password reset failed";i.oR.error(e)}}catch(e){i.oR.error((null==e?void 0:e.message)||"An error occurred")}};return(0,r.jsxs)("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,r.jsx)("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:"Forgot Password?"}),(0,r.jsx)("p",{className:"text-center text-gray-600 mt-4",children:"Please input confirmation code to change password"})]}),(0,r.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,r.jsx)("div",{className:"bg-white py-8 px-4 sm:rounded-lg sm:px-10",children:(0,r.jsxs)("form",{className:"space-y-6",onSubmit:y(w),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{...h("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",placeholder:"Email",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-[#2A2F38] focus:outline-none focus:ring-yellow-500"}),f.email&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{...h("code",{required:"Code is required",pattern:{value:/^[0-9]{6}$/,message:"Please enter a valid 6-digit code"}}),type:"text",placeholder:"Code",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-[#2A2F38] focus:outline-none focus:ring-yellow-500"}),f.code&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.code.message})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{...h("password",{required:"New password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:p?"text":"password",placeholder:"New Password",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-[#2A2F38] focus:outline-none focus:ring-yellow-500"}),(0,r.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>g(!p),children:p?(0,r.jsx)(c.A,{className:"h-4 w-4 text-gray-500"}):(0,r.jsx)(u.A,{className:"h-4 w-4 text-gray-500"})}),f.password&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.password.message})]}),(0,r.jsx)("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-full shadow-sm text-sm font-medium text-white bg-[#2A2F38] hover:bg-[#2A2F38] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 disabled:opacity-50",children:s?"Resetting...":"Reset Password"})]})})})]})}},4284:(e,a,s)=>{"use strict";s.d(a,{Ay:()=>g,BD:()=>i,Lx:()=>n,Wd:()=>l,vJ:()=>o,xw:()=>c});var r=s(1983),t=s(2651),d=s(6828);let l=(0,r.zD)("auth/signUpUser",async(e,a)=>{let{rejectWithValue:s}=a;try{return(await t.A.post("https://".concat(d.T,"/auth/signup"),e)).data}catch(e){return s(e.response.data)}}),o=(0,r.zD)("auth/verifyOTP",async(e,a)=>{let{rejectWithValue:s}=a;try{console.log("vv",e);let a=await t.A.post("https://".concat(d.T,"/auth/verify"),{email:e.email,otp:e.otp.toString()});return console.log("API Response:",a.data),a.data}catch(e){var r;return s((null===(r=e.response)||void 0===r?void 0:r.data)||{message:"Verification failed"})}}),n=(0,r.zD)("auth/loginUser",async(e,a)=>{let{rejectWithValue:s}=a;try{return(await t.A.post("https://".concat(d.T,"/auth/login"),e)).data}catch(e){return s(e.response.data)}}),i=(0,r.zD)("auth/forgotPassword",async(e,a)=>{let{rejectWithValue:s}=a;try{return(await t.A.post("https://".concat(d.T,"/auth/forgot-password"),{email:e})).data}catch(e){return s(e.response.data)}}),c=(0,r.zD)("auth/resetPassword",async(e,a)=>{let{rejectWithValue:s}=a;try{return(await t.A.post("https://".concat(d.T,"/auth/reset-password"),e)).data}catch(e){return s(e.response.data)}}),u=(0,r.Z0)({name:"auth",initialState:{user:null,loading:!1,error:null,isVerified:!1,token:null,message:null,isAuthenticated:!1},reducers:{clearAuthState:e=>{e.error=null,e.message=null},logout:e=>{e.user=null,e.token=null,e.isVerified=!1,e.isAuthenticated=!1}},extraReducers:e=>{e.addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,a)=>{e.loading=!1,e.user=a.payload.user,e.token=a.payload.token,e.message=a.payload.message}).addCase(l.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,a)=>{e.loading=!1,e.user=a.payload.user,e.isVerified=a.payload.user.isVerified,e.message=a.payload.message}).addCase(o.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(n.pending,e=>{e.loading=!0,e.error=null}).addCase(n.fulfilled,(e,a)=>{e.loading=!1,e.user=a.payload.user,e.token=a.payload.token,e.isVerified=a.payload.user.isVerified,e.message=a.payload.message,e.isAuthenticated=!0}).addCase(n.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,a)=>{e.loading=!1,e.message=a.payload.message}).addCase(i.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,a)=>{e.loading=!1,e.user=a.payload.user,e.message=a.payload.message}).addCase(c.rejected,(e,a)=>{e.loading=!1,e.error=a.payload})}}),{clearAuthState:m,logout:p}=u.actions,g=u.reducer},6828:(e,a,s)=>{"use strict";s.d(a,{T:()=>r});let r="equipmentapi.onrender.com";console.log("The base url:",r)}},e=>{var a=a=>e(e.s=a);e.O(0,[391,25,606,829,441,517,358],()=>a(8148)),_N_E=e.O()}]);