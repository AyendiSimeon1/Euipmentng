(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{2925:(e,s,a)=>{Promise.resolve().then(a.bind(a,5013))},7401:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});var t=a(2115);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return s.filter((e,s,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===s).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,t.forwardRef)((e,s)=>{let{color:a="currentColor",size:r=24,strokeWidth:d=2,absoluteStrokeWidth:n,className:i="",children:c,iconNode:u,...m}=e;return(0,t.createElement)("svg",{ref:s,...o,width:r,height:r,stroke:a,strokeWidth:n?24*Number(d)/Number(r):d,className:l("lucide",i),...m},[...u.map(e=>{let[s,a]=e;return(0,t.createElement)(s,a)}),...Array.isArray(c)?c:[c]])}),n=(e,s)=>{let a=(0,t.forwardRef)((a,o)=>{let{className:n,...i}=a;return(0,t.createElement)(d,{ref:o,iconNode:s,className:l("lucide-".concat(r(e)),n),...i})});return a.displayName="".concat(e),a}},738:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(7401).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},2598:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(7401).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5013:(e,s,a)=>{"use strict";a.d(s,{default:()=>g});var t=a(5155),r=a(9606),l=a(3391),o=a(4284),d=a(6046),n=a(2110),i=a(738),c=a(2598),u=a(2115),m=a(8173),p=a.n(m);let g=()=>{let e=(0,l.wA)(),s=(0,d.useRouter)(),{isAuthenticated:a,loading:m,error:g}=(0,l.d4)(e=>e.auth),[h,x]=(0,u.useState)(!1);(0,u.useEffect)(()=>{console.log("Authentication status:",a)},[a]);let y=e=>{localStorage.setItem("token",e.token),console.log("The user token:",e.token)},{register:f,handleSubmit:w,formState:{errors:b}}=(0,r.mN)(),v=async a=>{try{let r=await e((0,o.Lx)(a));if(o.Lx.fulfilled.match(r)&&(y(r.payload),n.oR.success(r.payload.message),s.push("/settings")),o.Lx.rejected.match(r)){var t;let e=(null===(t=r.payload)||void 0===t?void 0:t.message)||"Login failed";n.oR.error(e)}}catch(e){n.oR.error(g||"Login failed")}};return(0,t.jsxs)("div",{className:"min-h-screen bg-white flex flex-col justify-center py-8 px-4 sm:py-12 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"w-full sm:mx-auto sm:w-full sm:max-w-md",children:[(0,t.jsx)("h2",{className:"text-center text-2xl sm:text-3xl font-bold tracking-tight text-gray-900",children:"Welcome to Equipment.ng"}),(0,t.jsx)(n.N9,{position:"top-right",autoClose:3e3,hideProgressBar:!1,className:"!font-sans"}),(0,t.jsx)("p",{className:"text-center text-lg sm:text-xl mt-2",children:"Login"})]}),(0,t.jsx)("div",{className:"mt-4 sm:mt-2 w-full sm:mx-auto sm:max-w-md",children:(0,t.jsxs)("div",{className:"bg-white py-6 px-4 sm:py-8 sm:rounded-lg sm:px-10",children:[(0,t.jsxs)("form",{className:"space-y-4 sm:space-y-6",onSubmit:w(v),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{...f("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2.5 sm:py-1.5 text-base sm:text-sm shadow-sm focus:border-[#2A2F38] focus:outline-none focus:ring-yellow-500",placeholder:"Email"}),b.email&&(0,t.jsx)("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:b.email.message})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{...f("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:h?"text":"password",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2.5 sm:py-1.5 text-base sm:text-sm shadow-sm focus:border-[#2A2F38] focus:outline-none focus:ring-yellow-500",placeholder:"Password"}),(0,t.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 sm:p-1",onClick:()=>x(!h),children:h?(0,t.jsx)(i.A,{className:"h-5 w-5 sm:h-4 sm:w-4 text-gray-500"}):(0,t.jsx)(c.A,{className:"h-5 w-5 sm:h-4 sm:w-4 text-gray-500"})})]}),b.password&&(0,t.jsx)("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:b.password.message}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between space-y-2 sm:space-y-0",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{...f("remember"),type:"checkbox",className:"h-5 w-5 sm:h-4 sm:w-4 rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"}),(0,t.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,t.jsx)(p(),{href:"/forgot-password",className:"text-sm font-medium text-[#2A2F38] hover:text-gray-700",children:"Forgot Password?"})]}),(0,t.jsx)("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-3.5 sm:py-3 px-5 border border-transparent rounded-full shadow-sm text-base sm:text-sm font-medium text-white bg-[#2A2F38] hover:bg-[#2A2F38] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 disabled:opacity-50",children:m?"Logging in...":"Login"})]}),(0,t.jsxs)("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Don't have an account?"," ",(0,t.jsx)(p(),{href:"/signup",className:"font-medium text-[#2A2F38] hover:text-gray-700",children:"Sign up"})]})]})})]})}},4284:(e,s,a)=>{"use strict";a.d(s,{Ay:()=>g,BD:()=>i,Lx:()=>n,Wd:()=>o,vJ:()=>d,xw:()=>c});var t=a(1983),r=a(2651),l=a(6828);let o=(0,t.zD)("auth/signUpUser",async(e,s)=>{let{rejectWithValue:a}=s;try{return(await r.A.post("https://".concat(l.T,"/auth/signup"),e)).data}catch(e){return a(e.response.data)}}),d=(0,t.zD)("auth/verifyOTP",async(e,s)=>{let{rejectWithValue:a}=s;try{console.log("vv",e);let s=await r.A.post("https://".concat(l.T,"/auth/verify"),{email:e.email,otp:e.otp.toString()});return console.log("API Response:",s.data),s.data}catch(e){var t;return a((null===(t=e.response)||void 0===t?void 0:t.data)||{message:"Verification failed"})}}),n=(0,t.zD)("auth/loginUser",async(e,s)=>{let{rejectWithValue:a}=s;try{return(await r.A.post("http://".concat(l.T,"/auth/login"),e)).data}catch(e){return a(e.response.data)}}),i=(0,t.zD)("auth/forgotPassword",async(e,s)=>{let{rejectWithValue:a}=s;try{return(await r.A.post("https://".concat(l.T,"/auth/forgot-password"),{email:e})).data}catch(e){return a(e.response.data)}}),c=(0,t.zD)("auth/resetPassword",async(e,s)=>{let{rejectWithValue:a}=s;try{return(await r.A.post("https://".concat(l.T,"/auth/reset-password"),e)).data}catch(e){return a(e.response.data)}}),u=(0,t.Z0)({name:"auth",initialState:{user:null,loading:!1,error:null,isVerified:!1,token:null,message:null,isAuthenticated:!1},reducers:{clearAuthState:e=>{e.error=null,e.message=null},logout:e=>{e.user=null,e.token=null,e.isVerified=!1,e.isAuthenticated=!1}},extraReducers:e=>{e.addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,s)=>{e.loading=!1,e.user=s.payload.user,e.token=s.payload.token,e.message=s.payload.message}).addCase(o.rejected,(e,s)=>{e.loading=!1,e.error=s.payload}).addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,s)=>{e.loading=!1,e.user=s.payload.user,e.isVerified=s.payload.user.isVerified,e.message=s.payload.message}).addCase(d.rejected,(e,s)=>{e.loading=!1,e.error=s.payload}).addCase(n.pending,e=>{e.loading=!0,e.error=null}).addCase(n.fulfilled,(e,s)=>{e.loading=!1,e.user=s.payload.user,e.token=s.payload.token,e.isVerified=s.payload.user.isVerified,e.message=s.payload.message,e.isAuthenticated=!0}).addCase(n.rejected,(e,s)=>{e.loading=!1,e.error=s.payload}).addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,s)=>{e.loading=!1,e.message=s.payload.message}).addCase(i.rejected,(e,s)=>{e.loading=!1,e.error=s.payload}).addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,s)=>{e.loading=!1,e.user=s.payload.user,e.message=s.payload.message}).addCase(c.rejected,(e,s)=>{e.loading=!1,e.error=s.payload})}}),{clearAuthState:m,logout:p}=u.actions,g=u.reducer},6828:(e,s,a)=>{"use strict";a.d(s,{T:()=>t});let t="equipmentapi.onrender.com";console.log("The base url:",t)}},e=>{var s=s=>e(e.s=s);e.O(0,[391,173,25,606,829,441,517,358],()=>s(2925)),_N_E=e.O()}]);