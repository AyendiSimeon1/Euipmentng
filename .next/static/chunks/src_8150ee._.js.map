{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/ayendi/projects/freelance/Equipment-ng-frontend/src/components/auth/signupConfirmation.js"],"sourcesContent":["\"use client\";\nimport { useForm } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { verifyOTP } from '@/redux/reducers/authReducers';\nimport { useRouter } from 'next/navigation';\nimport { toast } from 'react-toastify';\n\nexport default function SignupConfirmation() {\n    const dispatch = useDispatch();\n    const router = useRouter();\n    const { loading, error } = useSelector((state) => state.auth);\n\n    const {\n        register,\n        handleSubmit,\n        formState: { errors }\n    } = useForm();\n\n    const onSubmit = async (data) => {\n        try {\n            const verificationData = {\n                email: data.email,\n                otp: data.code\n            };\n            \n           \n\n            console.log('Thisis the verifcation: ',verificationData);\n\n            const resultAction = await dispatch(verifyOTP(verificationData));\n            if (verifyOTP.fulfilled.match(resultAction)) {\n                toast.success(resultAction.payload.message);\n                router.push('/login');\n            }\n            if (verifyOTP.rejected.match(resultAction)) {\n                // Handle API error response\n                const errorMessage = resultAction.payload?.message || 'Verification failed';\n                toast.error(errorMessage);\n                return;\n            }\n\n        } catch (error) {\n            toast.error(error?.message || 'Verification failed');\n            const errorMessage = error.response?.data?.message || error.message || 'Network error occurred';\n            toast.error(errorMessage);\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n            <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n                <h1 className=\"text-center text-3xl font-bold tracking-tight text-gray-900\">\n                    Check your email for code\n                </h1>\n                <p className=\"text-center font-medium pt-2 mt-2\">\n                    A code has been sent to your email, input it to complete your registration\n                </p>\n            </div>\n            <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n                <div className=\"bg-white py-8 px-4 sm:rounded-lg sm:px-10\">\n                    <form className=\"space-y-6\" onSubmit={handleSubmit(onSubmit)}>\n                        <div>\n                            <input\n                                {...register('email', {\n                                    required: 'Email is required',\n                                    pattern: {\n                                        value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                                        message: 'Invalid email address'\n                                    }\n                                })}\n                                type=\"email\"\n                                placeholder=\"Email\"\n                                className=\"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2\"\n                            />\n                            {errors.email && (\n                                <p className=\"mt-1 text-sm text-red-600\">\n                                    {errors.email.message}\n                                </p>\n                            )}\n                        </div>\n                        <div>\n                            <input\n                                {...register('code', {\n                                    required: 'Verification code is required',\n                                    pattern: {\n                                        value: /^[0-9]{6}$/,\n                                        message: 'Please enter a valid 6-digit code'\n                                    }\n                                })}\n                                type=\"text\"\n                                placeholder=\"Code\"\n                                className=\"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2\"\n                            />\n                            {errors.code && (\n                                <p className=\"mt-1 text-sm text-red-600\">\n                                    {errors.code.message}\n                                </p>\n                            )}\n                        </div>\n                        <button\n                            type=\"submit\"\n                            disabled={loading}\n                            className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-full shadow-sm text-sm font-medium text-white bg-[#2A2F38] hover:bg-[#2A2F38] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2A2F38] disabled:opacity-50\"\n                        >\n                            {loading ? 'Loading...' : 'Continue'}\n                        </button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    );\n}"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AAHA;AADA;;;AADA;;;;;;AAOe,SAAS;;IACpB,MAAM,WAAW,CAAA,GAAA,4JAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,4JAAA,CAAA,cAAW,AAAD;0CAAE,CAAC,QAAU,MAAM,IAAI;;IAE5D,MAAM,EACF,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,EACxB,GAAG,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD;IAEV,MAAM,WAAW,OAAO;QACpB,IAAI;YACA,MAAM,mBAAmB;gBACrB,OAAO,KAAK,KAAK;gBACjB,KAAK,KAAK,IAAI;YAClB;YAIA,QAAQ,GAAG,CAAC,4BAA2B;YAEvC,MAAM,eAAe,MAAM,SAAS,CAAA,GAAA,2IAAA,CAAA,YAAS,AAAD,EAAE;YAC9C,IAAI,2IAAA,CAAA,YAAS,CAAC,SAAS,CAAC,KAAK,CAAC,eAAe;gBACzC,sJAAA,CAAA,QAAK,CAAC,OAAO,CAAC,aAAa,OAAO,CAAC,OAAO;gBAC1C,OAAO,IAAI,CAAC;YAChB;YACA,IAAI,2IAAA,CAAA,YAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,eAAe;gBACxC,4BAA4B;gBAC5B,MAAM,eAAe,aAAa,OAAO,EAAE,WAAW;gBACtD,sJAAA,CAAA,QAAK,CAAC,KAAK,CAAC;gBACZ;YACJ;QAEJ,EAAE,OAAO,OAAO;YACZ,sJAAA,CAAA,QAAK,CAAC,KAAK,CAAC,OAAO,WAAW;YAC9B,MAAM,eAAe,MAAM,QAAQ,EAAE,MAAM,WAAW,MAAM,OAAO,IAAI;YACvE,sJAAA,CAAA,QAAK,CAAC,KAAK,CAAC;QAChB;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAA8D;;;;;;kCAG5E,6LAAC;wBAAE,WAAU;kCAAoC;;;;;;;;;;;;0BAIrD,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC;wBAAK,WAAU;wBAAY,UAAU,aAAa;;0CAC/C,6LAAC;;kDACG,6LAAC;wCACI,GAAG,SAAS,SAAS;4CAClB,UAAU;4CACV,SAAS;gDACL,OAAO;gDACP,SAAS;4CACb;wCACJ,EAAE;wCACF,MAAK;wCACL,aAAY;wCACZ,WAAU;;;;;;oCAEb,OAAO,KAAK,kBACT,6LAAC;wCAAE,WAAU;kDACR,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;0CAIjC,6LAAC;;kDACG,6LAAC;wCACI,GAAG,SAAS,QAAQ;4CACjB,UAAU;4CACV,SAAS;gDACL,OAAO;gDACP,SAAS;4CACb;wCACJ,EAAE;wCACF,MAAK;wCACL,aAAY;wCACZ,WAAU;;;;;;oCAEb,OAAO,IAAI,kBACR,6LAAC;wCAAE,WAAU;kDACR,OAAO,IAAI,CAAC,OAAO;;;;;;;;;;;;0CAIhC,6LAAC;gCACG,MAAK;gCACL,UAAU;gCACV,WAAU;0CAET,UAAU,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOtD;GAxGwB;;QACH,4JAAA,CAAA,cAAW;QACb,qIAAA,CAAA,YAAS;QACG,4JAAA,CAAA,cAAW;QAMlC,iKAAA,CAAA,UAAO;;;KATS"}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}