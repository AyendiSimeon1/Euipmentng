"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[304],{9703:(e,a,t)=>{t.r(a),t.d(a,{default:()=>c});var r=t(5155),s=t(3391),l=t(8173),n=t.n(l),d=t(1536),i=t(8422),o=t(2115);let c=()=>{let[e,a]=(0,o.useState)(!1),{isAuthenticated:t}=(0,s.d4)(e=>e.auth),l=t?[{href:"/my-listings",label:"My Listings",className:"bg-[#2A2F38] font-medium px-6 py-3 text-lg rounded-full"},{href:"/",label:"Home"},{href:"/saved-equipments",label:"Saved Equipment"},{href:"/settings",label:(0,r.jsx)(d.NBi,{className:"inline-block h-6 w-6"})}]:[{href:"/login",label:"Login"}];return(0,r.jsx)("header",{className:"bg-gray-800 py-4 px-4 sm:px-6",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsxs)(n(),{href:"/",children:[(0,r.jsx)("span",{className:"text-yellow-500 text-2xl",children:"⚙️"}),(0,r.jsx)("span",{className:"text-white font-semibold",children:"Equipment.ng"})]})}),(0,r.jsx)("nav",{className:"hidden md:flex items-center space-x-6",children:l.map(e=>(0,r.jsx)(n(),{href:e.href,className:"text-white hover:text-gray-300 ".concat(e.className||""),children:e.label},e.href))}),(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsx)("button",{onClick:()=>{a(!e)},className:"text-white focus:outline-none",children:e?(0,r.jsx)(i.U_s,{className:"h-6 w-6"}):(0,r.jsx)(i.TF4,{className:"h-6 w-6"})})})]}),e&&(0,r.jsx)("div",{className:"md:hidden mt-4 bg-gray-700 rounded-lg p-4 space-y-4 transition-all duration-200 ease-in-out",children:l.map(e=>(0,r.jsx)(n(),{href:e.href,className:"block text-white hover:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors ".concat(e.className||""),children:e.label},e.href))})]})})}},3230:(e,a,t)=>{t.d(a,{default:()=>u});var r=t(5155),s=t(2115),l=t(3391),n=t(2367),d=t(8173),i=t.n(d),o=t(2734),c=t(1594),m=t(4834);function u(){let e=(0,l.wA)(),{equipments:a,loading:t,error:d}=(0,l.d4)(e=>e.equipments);return((0,s.useEffect)(()=>{e((0,n.OX)())},[e]),t)?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[200px] space-y-4",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#2A2F38]"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"Loading equipment..."})]}):d?(0,r.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-4",children:(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md w-full",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(c.A,{className:"h-6 w-6 text-red-500"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-red-800",children:"Error Loading Equipment"})]}),(0,r.jsx)("p",{className:"mt-2 text-sm text-red-700",children:(null==d?void 0:d.message)||"Something went wrong. Please try again."}),(0,r.jsxs)("button",{onClick:()=>e((0,n.OX)()),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}):(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-bold text-xl ml-10 px-2 py-3",children:"Listed Equipments "}),(0,r.jsx)("div",{className:"grid grid-cols-1 mx-3 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 px-4 sm:px-6 lg:px-8",children:a.map((e,a)=>(0,r.jsx)("div",{className:"relative rounded-lg overflow-hidden shadow-lg bg-white",children:(0,r.jsxs)(i(),{href:"equipment-detail/".concat(e._id),children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{className:"w-full h-48 object-cover rounded-t-lg",src:e.coverimage||"/future.jpeg",alt:e.name,onError:e=>{e.target.onerror=null,e.target.src="/future.jpeg"}}),(0,r.jsx)("button",{className:"absolute top-3 right-3 p-2 rounded-full bg-white/80 hover:bg-white transition-colors",onClick:e=>{e.preventDefault()},children:(0,r.jsx)(o.in_,{className:"h-5 w-5 text-gray-700"})})]}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("div",{className:"text-sm sm:text-sm font-bold text-gray-800",children:e.amount}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)("p",{children:"per/day"})})]}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.duration}),(0,r.jsx)("div",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:e.name}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e.description}),(0,r.jsx)("div",{className:"text-sm text-gray-600 font-semibold",children:e.workingcondition}),(0,r.jsx)("div",{className:"text-sm text-gray-600 font-semibold",children:(0,r.jsx)("p",{children:"Avalaibilty: Immediately"})})]})})]})},a))})]})}},2367:(e,a,t)=>{t.d(a,{Ay:()=>x,H:()=>p,M5:()=>d,OX:()=>n,zp:()=>i});var r=t(1983),s=t(2651),l=t(6828);console.log("This is the base url:",l.T);let n=(0,r.zD)("equipments/fetchEquipments",async(e,a)=>{let{rejectWithValue:t}=a;try{return(await s.A.get("https://".concat(l.T,"/equipment/allequipment"))).data}catch(e){return t(e.response.data)}}),d=(0,r.zD)("equipments/addEquipment",async(e,a)=>{let{formData:t,token:r}=e,{rejectWithValue:n}=a;try{for(let e of(console.log("FormData contents in reducer:"),t.entries()))console.log(e[0],e[1]);return(await s.A.post("https://".concat(l.T,"/equipment/addequipment"),t,{headers:{Authorization:"Bearer ".concat(r)}})).data}catch(e){var d;return console.error("Add equipment error:",e),n((null===(d=e.response)||void 0===d?void 0:d.data)||{message:"Failed to add equipment"})}}),i=(0,r.zD)("equipments/fetchEquipmentById",async(e,a)=>{let{rejectWithValue:t}=a;console.log("The fetch equipment id:",e);try{let a=await s.A.get("https://".concat(l.T,"/equipment/particularequipment/").concat(e));return console.log("The response",a.data),a.data}catch(e){return console.log(e),t(e.response.data)}}),o=(0,r.zD)("equipments/deleteEquipment",async(e,a)=>{let{rejectWithValue:t}=a;try{return{...(await s.A.delete("https://".concat(l.T,"/equipment/deleteequipment/").concat(e))).data,id:e}}catch(e){return t(e.response.data)}}),c=(0,r.zD)("equipments/addToFavorites",async(e,a)=>{let{rejectWithValue:t}=a;try{let a=localStorage.getItem("token");return(await s.A.post("https://".concat(l.T,"/offer/makeoffer"),{equipmentId:e},{headers:{Authorization:"Bearer ".concat(a)}})).data}catch(e){return t(e.response.data)}}),m=(0,r.zD)("equipments/fetchUserFavorites",async(e,a)=>{let{rejectWithValue:t}=a;try{let e=localStorage.getItem("token");return(await s.A.get("https://".concat(l.T,"/userfavorite/usersfavorite"),{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){return t(e.response.data)}}),u=(0,r.zD)("equipments/removeFromFavorites",async(e,a)=>{let{rejectWithValue:t}=a;try{let a=localStorage.getItem("token"),t=await s.A.delete("https://".concat(l.T,"/userfavorite/deletefavorite/").concat(e),{headers:{Authorization:"Bearer ".concat(a)}});return{favoriteId:e,...t.data}}catch(e){return t(e.response.data)}}),p=(0,r.zD)("equipments/makeOffer",async(e,a)=>{let{rejectWithValue:t}=a;try{let a=localStorage.getItem("token");if(console.log("Making offer with data:",e),!a)throw Error("No authentication token found");let t=await s.A.post("https://".concat(l.T,"/offer/makeoffer"),e,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});return console.log("Offer response:",t.data),t.data}catch(e){var r;return console.error("Offer error:",e),t((null===(r=e.response)||void 0===r?void 0:r.data)||e.message)}}),g=(0,r.Z0)({name:"equipments",initialState:{equipments:[],favorites:[],selectedEquipment:null,loading:!1,error:null,message:null,offers:[],currentOffer:null},reducers:{clearEquipmentState:e=>{e.error=null,e.message=null},clearCurrentOffer:e=>{e.currentOffer=null}},extraReducers:e=>{e.addCase(n.pending,e=>{e.loading=!0,e.error=null}).addCase(n.fulfilled,(e,a)=>{e.loading=!1,e.equipments=a.payload}).addCase(n.rejected,(e,a)=>{var t;e.loading=!1,e.error=(null===(t=a.payload)||void 0===t?void 0:t.message)||"Failed to fetch equipments"}).addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,a)=>{e.loading=!1,e.equipments.push(a.payload.newEquipment),e.message=a.payload.message}).addCase(d.rejected,(e,a)=>{var t;e.loading=!1,e.error=(null===(t=a.payload)||void 0===t?void 0:t.message)||"Failed to add equipment"}).addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,a)=>{e.loading=!1,e.selectedEquipment=a.payload}).addCase(i.rejected,(e,a)=>{var t;e.loading=!1,e.error=(null===(t=a.payload)||void 0===t?void 0:t.message)||"Failed to fetch equipment"}).addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,a)=>{e.loading=!1,e.equipments=e.equipments.filter(e=>e._id!==a.payload.id),e.message=a.payload.message}).addCase(o.rejected,(e,a)=>{var t;e.loading=!1,e.error=(null===(t=a.payload)||void 0===t?void 0:t.message)||"Failed to delete equipment"}).addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,a)=>{e.loading=!1,e.favorites.push(a.payload.newFavorite),e.message=a.payload.message}).addCase(c.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(m.pending,e=>{e.loading=!0,e.error=null}).addCase(m.fulfilled,(e,a)=>{e.loading=!1,e.favorites=a.payload}).addCase(m.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(u.pending,e=>{e.loading=!0,e.error=null}).addCase(u.fulfilled,(e,a)=>{e.loading=!1,e.favorites=e.favorites.filter(e=>e._id!==a.payload.favoriteId),e.message="Equipment removed from favorites"}).addCase(u.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(p.pending,e=>{e.loading=!0,e.error=null}).addCase(p.fulfilled,(e,a)=>{e.loading=!1,e.currentOffer=a.payload.offer,e.message=a.payload.message,e.offers.push(a.payload.offer)}).addCase(p.rejected,(e,a)=>{e.loading=!1,e.error=a.payload})}}),{clearEquipmentState:f,clearCurrentOffer:h}=g.actions,x=g.reducer},6828:(e,a,t)=>{t.d(a,{T:()=>r});let r="equipmentapi.onrender.com";console.log("The base url:",r)}}]);